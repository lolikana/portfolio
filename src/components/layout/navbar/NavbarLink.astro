---
import { firstCapitalizeLetter } from '@libs/helpers';

type Props = {
	class: 'primary-navbar__list_item' | 'secondary-navbar__list_item';
	class2?: string;
	class3?: 'hover-underline' | 'hover-overline';
	link: {
		href: string;
	};
	index: number;
};

const { link, index, class: styled_navbar, class2: styled_link, ...rest } = Astro.props;
---

<li
	class:list={['navbar__list_item', styled_navbar]}
	style={`--delay: ${(index + 1) * 0.2}s`}
	{...rest}
>
	<a
		class:list={['item-link translate-transition', styled_link]}
		href=`#${link.href}`
		data-link-index={`${(index + 1).toString().padStart(2, '0')}.`}
		aria-label={`go to ${link.href} section`}
		{...rest}
	>
		{firstCapitalizeLetter(link.href)}
	</a>
</li>

<style lang="scss">
	.navbar__list_item {
		width: fit-content;
		display: flex;
		align-items: center;
		padding: 0.15rem 1vw;
		position: relative;
	}

	.navbar__list_item:not(:last-child) {
		&:hover {
			color: $main-color;
			background-color: $primary-color;
		}

		.item-link::before {
			content: attr(data-link-index);
			color: $secondary-color;
			@include font-responsive($font16, 3vw, $font18);
			margin-right: 0.25rem;
		}
	}

	.navbar__list_item:first-child {
		padding-left: 2rem;
	}

	.navbar__list_item:last-child {
		color: $main-color;
		background-color: $primary-color;
		padding-right: 2rem;
	}

	.navbar__list_item {
		opacity: 0;
		@include text-appear($speed: $header-heightTransition, $translateY-from: -20px);
		animation-delay: var(--delay);
	}
</style>
